---
nvim_motion_default:
  packer: |
    use { 'ggandor/flit.nvim',
      requires = {
        'ggandor/leap.nvim',
        'ggandor/leap-spooky.nvim',
        'https://tpope.io/vim/repeat.git',
      },
    }
    use { 'cbochs/portal.nvim',
      requires = {
        'cbochs/grapple.nvim',  -- Optional: provides the 'grapple' query item
        'ThePrimeagen/harpoon', -- Optional: provides the 'harpoon' query item
      },
    }
    use { 'kylechui/nvim-surround' }
    use {
      "SmiteshP/nvim-navbuddy",
      requires = {
        "neovim/nvim-lspconfig",
        "SmiteshP/nvim-navic",
        "MunifTanjim/nui.nvim"
      }
    }
  config: |
    require('leap').set_default_keymaps(true)
    require('leap').add_repeat_mappings(';', ',', {
      -- False by default. If set to true, the keys will work like the
      -- native semicolon/comma, i.e., forward/backward is understood in
      -- relation to the last motion.
      relative_directions = true,
      -- By default, all modes are included.
      modes = {'n', 'x', 'o'},
    })
    require('leap-spooky').setup()
    require('flit').setup()
    require('portal').setup()
    require('nvim-surround').setup()
    local navbuddy = require("nvim-navbuddy")
  keymaps: |
    { '<C-o>', { n = '<cmd>Portal jumplist backward<CR>', }, description = 'Portal: Jump Backward', },
    { '<C-i>', { n = '<cmd>Portal jumplist forward<CR>', }, description = 'Portal: Jump Forward', },
    { '<C-Space>', { n = '<cmd>lua require("nvim-navbuddy").open()<CR>', }, description = 'NavBuddy: Open', },
nvim_motion_flash:
  packer: |
    { 'folke/flash.nvim' },
    use { 'cbochs/portal.nvim',
      requires = {
        'cbochs/grapple.nvim',  -- Optional: provides the 'grapple' query item
        'ThePrimeagen/harpoon', -- Optional: provides the 'harpoon' query item
      },
    },
    use { 'kylechui/nvim-surround' },
    use {
      'SmiteshP/nvim-navbuddy',
      requires = {
        'neovim/nvim-lspconfig',
        'SmiteshP/nvim-navic',
        'MunifTanjim/nui.nvim'
      }
    },
  lazy: |
    {
      'folke/flash.nvim',
      event = 'VeryLazy',
      ---@type Flash.Config
      opts = {},
      -- stylua: ignore
      keys = {
        { 's', mode = { 'n', 'x', 'o' }, function() require('flash').jump() end, desc = 'Flash' },
        { 'S', mode = { 'n', 'x', 'o' }, function() require('flash').treesitter() end, desc = 'Flash Treesitter' },
        { 'r', mode = 'o', function() require('flash').remote() end, desc = 'Remote Flash' },
        { 'R', mode = { 'o', 'x' }, function() require('flash').treesitter_search() end, desc = 'Treesitter Search' },
        { '<c-s>', mode = { 'c' }, function() require('flash').toggle() end, desc = 'Toggle Flash Search' },
      },
    },
    { 'cbochs/portal.nvim',
      dependencies = {
        'cbochs/grapple.nvim',  -- Optional: provides the 'grapple' query item
        'ThePrimeagen/harpoon', -- Optional: provides the 'harpoon' query item
      },
    },
    { 'kylechui/nvim-surround' },
    {
      'SmiteshP/nvim-navbuddy',
      dependencies = {
        'neovim/nvim-lspconfig',
        'SmiteshP/nvim-navic',
        'MunifTanjim/nui.nvim'
      }
    },
  config: |
    require('portal').setup()
    require('nvim-surround').setup()
    local navbuddy = require('nvim-navbuddy')
  keymaps: |
    { '<C-o>', { n = '<cmd>Portal jumplist backward<CR>', }, description = 'Portal: Jump Backward', },
    { '<C-i>', { n = '<cmd>Portal jumplist forward<CR>', }, description = 'Portal: Jump Forward', },
    { '<C-Space>', { n = '<cmd>lua require("nvim-navbuddy").open()<CR>', }, description = 'NavBuddy: Open', },
